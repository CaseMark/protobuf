syntax = "proto3";

package casemark.libs.types;

option go_package = "go.casemark.ai/protobuf/libs/types";

// Custom fields must be used for user-defined, calculated values.
message OutputDocumentCustomFields {
	string field1  = 1;
	string field2  = 2;
	string field3  = 3;
	string field4  = 4;
	string field5  = 5;
	string field6  = 6;
	string field7  = 7;
	string field8  = 8;
	string field9  = 9;
	string field10 = 10;
	string field11 = 11;
	string field12 = 12;
	string field13 = 13;
	string field14 = 14;
	string field15 = 15;
}

// OutputDocument is generated by Workflow.
message OutputDocument {
	// The title of the document.
	string title = 1;

	// The short title of the document.
	string short_title = 2;

	// The content of the document.
	string content = 3;

	// The date the document was created.
	string created_at = 4;

	// The deponent, if any.
	string deponent = 5;

	// Deposition information.
	string case_name = 6;

	// The date and time the deposition was taken.
	// In RFC 3339 format with time offset.
	// Also used in trial summaries as the date of the event. (no case date)
	string taken_at = 7;

	// Deposition location.
	string location = 8;

	// The role of the deponent.
	// Plaintiff, Defendant, Witness, Expert Witness, etc.
	string deponent_role = 9;

	// The abstract of the document.
	string abstract = 10;

	// Name of the document type.
	// e.g. Narrative deposition summary, 5:1 Page-line deposition summary, etc.
	string document_type = 11;

	// The case number.  This is a string because it can contain letters and hyphens.
	string case_number = 12;

	// The case type.
	string case_type = 13;

	// Judge's name.
	string judge_name = 14;

	// The court name.
	string court_name = 15;

	// Plaintiff name.
	string plaintiff_name = 16;

	// Defendant name.
	string defendant_name = 17;



	// The sections of the document.
	repeated OutputDocumentSection sections = 101;

	repeated bytes            included_document_ids = 201;
	repeated IncludedDocument included_documents    = 202;  // Documents are included at report generation time.

	OutputDocumentCustomFields custom_fields = 1001;
}

// A section of a document.
// A section can contain a title, content, and a list of sub-sections.
message OutputDocumentSection {
	// The title of the section.
	string title   = 1;
	string content = 2;
	// An ordered or unordered list of items.
	OutputDocumentList list = 3;
	// A location reference to the source document.
	string location = 4;
	// Input document filename.
	string input_document = 5;
	// Hyperlink to the source location.
	string hyperlink = 6;

	// The sub-sections of the section.
	repeated OutputDocumentSection sections = 101;
}

// A list of items.
// Can have a sub-list of items.
message OutputDocumentList {
	enum Type {
		UNORDERED = 0;
		ORDERED   = 1;
	}

	Type type = 1;

	repeated OutputDocumentListItem items = 2;
}

message OutputDocumentListItem {
	string title   = 1;
	string content = 2;

	OutputDocumentList list = 101;
}

message IncludedDocument {
	repeated IncludedDocumentPage pages = 1;
}

message IncludedDocumentPage {
	int32                         page_number = 1;
	repeated IncludedDocumentLine lines       = 2;
}

message IncludedDocumentLine {
	string text        = 1;
	string line_number = 2;
	string bookmark    = 3;
}
